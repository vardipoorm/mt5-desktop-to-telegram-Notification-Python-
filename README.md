# ربات تلگرام اعلان‌های متاتریدر ۵

این اسکریپت پایتون به ترمینال متاتریدر ۵ شما متصل شده و رویدادهای معاملاتی را به صورت لحظه‌ای به تلگرام شما ارسال می‌کند. همچنین قابلیت دریافت گزارش‌های معاملاتی از طریق دستورات تلگرام را داراست.

## قابلیت‌ها

  * اعلان لحظه‌ای برای باز شدن اردرهای در حال انتظار (Pending Orders).
  * اعلان لحظه‌ای برای بسته شدن پوزیشن‌ها (TP, SL, دستی).
  * نمایش اطلاعات کامل معامله شامل سود، حجم، کامنت و زمان دقیق بروکر.
  * دریافت گزارش‌های معاملاتی برای بازه‌های زمانی مختلف (روزانه، هفتگی، ماهانه) با ارسال دستور به ربات.
  * محاسبه و نمایش آمار کلیدی مانند وین ریت و درصد رشد حساب در گزارش‌ها.
  * اتصال مجدد خودکار در صورت قطع شدن موقت اینترنت یا بسته شدن متاتریدر.
  * تشخیص خودکار منطقه زمانی (Timezone) سرور بروکر برای نمایش دقیق تاریخ و ساعت.
  * قابلیت اتصال به یک نسخه خاص از متاتریدر در صورت نصب بودن چندین نسخه.

## پیش‌نیازها

قبل از شروع، مطمئن شوید که موارد زیر را آماده کرده‌اید:

1.  **پایتون:** نسخه 3.10(دقیقا این نسخه چون کتابخانه متاتریدر تا این نسخه را پشتیبانی میکند)
2.  **متاتریدر ۵:** نرم‌افزار باید روی سیستم عامل ویندوز نصب و در حال اجرا باشد.
3.  **ربات تلگرام:** شما باید یک ربات تلگرام ساخته و **توکن (Token)** آن را دریافت کرده باشید. از `@BotFather` استفاده کنید و ربات رو دست کنید و توی گوگل سرچ کنید باقیشو من حوصله ندارم.
  *.  این دستورات رو به ربات بدید با دستور `/setcommands`
```bash
time - گزارش 24 ساعت گذشته
3days - گزارش سه روز گذشته
7day - گزارش 7 روز گذشته
14day - گزارش 14 روز گذشته
30day - گزارش 30 روز گذشته
60day - گزارش 60 روز گذشته
90day - گزارش 90 روز گذشته
today - گزارش امروز
lastweek - گزارش هفته ی گذشته
last2weeks - گزارش دو هفته ی گذشته
lastmonth - گزارش ماه گذشته
last2months - گزارش دو ماه گذشته
last3months - گزارش سه ماه گذشته`
```
باید این تایید رو دریافت کنید
```bash
Success! Command list updated. /help
```
  *- حالا یه متن بفرستید توی باتتون هر متنی باشه خوبه، که بتونید chat id دریافت کنید.
 
 5.  **آیدی عددی تلگرام:** شما باید `CHAT_ID` عددی خود را بدانید. (می‌توانید آن را از ربات‌هایی مانند `@userinfobot` دریافت کنید).

## نصب و راه‌اندازی

برای راه‌اندازی این اسکریپت، مراحل زیر را دنبال کنید.

### قدم اول: دانلود کد

کد پروژه را از این صفحه دانلود کرده و در یک پوشه دلخواه از حالت فشرده خارج کنید.

### قدم دوم: نصب کتابخانه‌های مورد نیاز

یک ترمینال (CMD یا PowerShell) در پوشه پروژه باز کرده و دستورات را به ترتیب برای نصب تمام کتابخانه‌های مورد نیاز اجرا کنید:

```bash
python -m pip install pip-review
python -m pip_review --auto
python -m pip install MetaTrader5 "python-telegram-bot==13.15" pytz python-dateutil psutil
```
### قدم سوم: تنظیمات اسکریپت

فایل اصلی اسکریپت پایتون (`bot_script.py`) را با یک ویرایشگر متن باز کرده و بخش «تنظیمات اصلی» را پیدا کنید. مقادیر زیر را با اطلاعات شخصی خودتان جایگزین کنید:

  * **`TOKEN`**: توکن ربات تلگرام خود را داخل دابل کوتیشن (`"..."`) قرار دهید.
  * **`CHAT_ID`**: آیدی عددی تلگرام خود را اینجا قرار دهید.
  * **`MT5_PATH`**: مسیر کامل فایل `terminal64.exe` متاتریدر مورد نظرتان را اینجا قرار دهید.
      * **نحوه پیدا کردن مسیر:** روی شورتکات متاتریدر راست کلیک کرده، `Properties` را انتخاب و متن داخل فیلد `Target` را کپی کنید. (توجه: در پایتون از دو بک‌اسلش `\\` استفاده کنید).
      * مثال: `"C:\\Program Files\\MetaTrader 5\\terminal64.exe"`


## اجرای اسکریپت

پس از نصب و تنظیم، فایل زیر را اجرا کنید:

```bash
run python mt5-telegram.bat
```

پس از اجرا، اسکریپت به صورت خودکار به متاتریدر و تلگرام متصل شده و شروع به کار می‌کند.

## خروج از اسکریپت
روی کیبورد Ctrl+C بزنید به همین راحتی

## نحوه استفاده

  * **مانیتورینگ لحظه‌ای:** ربات به صورت خودکار باز و بسته شدن پوزیشن‌ها را به شما اطلاع می‌دهد.
  * **دریافت گزارش:** برای دریافت گزارش‌های معاملاتی، دستورات زیر را در تلگرام به ربات خود ارسال کنید:
      * `/today` (گزارش امروز)
      * `/last3days` (گزارش ۳ روز گذشته)
      * `/week_report` (گزارش ۷ روز گذشته)
      * `/lastweek` (گزارش هفته کامل گذشته از شنبه تا جمعه)
      * `/lastmonth` (گزارش ماه کامل گذشته)
      * ... و بقیه دستوراتی که تعریف شده‌اند.

-----

تصاویر 


<img width="575" height="628" alt="Screenshot 2025-08-19 194019" src="https://github.com/user-attachments/assets/24c18c31-86d2-4a43-ad1b-e6c78b5eaee4" />
![Telegram_6L3qWwCmZc](https://github.com/user-attachments/assets/b55ad7d9-8cf1-4715-912d-fb0524051238)



